<?php
/*
 =============================================================================================
 + Cerberus Content Management System.
 + ---
 + - Author : Gary Christopher Johnson
 + - E-Mail : TinkeSoftware@Protonmail.com
 + - Company: Tinke Software
 + - Notes  : View this file in a non-formatting text editor for correct indentation display
 + ---
 +
 +
 +
 +
 +
 +
 +
 +
 +
 +
 +
 + ---
 + - File Location: root->Cerberus->Applications->Member->Control_Panel
 + - File Version:  0.6 - Wednesday, March 1st of 2023.
 + ---
 + -------------------------------------------------------------------------------
 + --()()--()()()--()()()--()()()---()()()--()()()--()--()------()()()------------
 + -()-----()------()--()--()---()--()------()--()--()--()------()----------------
 + -()-----()------()--()--()---()--()------()--()--()--()------()----------------
 + -()-----()------()--()--()---()--()------()--()--()--()------()----------------
 + -()-----()()()--()()()--()()()---()()()--()()()--()--()------()----------------
 + -()-----()------()--()--()---()--()------()--()--()--()------()----------------
 + -()-----()------()--()--()---()--()------()--()--()--()------()------------/-\-
 + -()-----()------()--()--()---()--()------()--()--()--()------()------------|4|-  ~ Wynn ~
 + --()()--()()()--()--()--()()()---()()()--()--()--()()()--()()()------------\-/- Build: 0.8
 ===========================================================================================
*/

/*
 ================================================================
 +
 +
 + Application Module :: Member Control Panel
 +
 +
 ================================================================
*/

/*
 ================================================================
 + Application Module Header
 ================================================================
*/

										echo ($_Application_Module_Message_Member_Control_Panel_Header);

/*
 ================================================================
 +
 + Audio To Rank Number
 +
 ================================================================
*/

if ($_GLOBAL_MEMBER_RANK <= 1) {

	$_PLAY_SOUND	= "Theme/$_GLOBAL_MEMBER_THEME/Audio/Rank_1.$_GLOBAL_SYSTEM_SOUND_EXTENSION";

} // [ + ] If Member Rank Less Than Or Equal To 1, Play Specific Audio File

if ($_GLOBAL_MEMBER_RANK = 2) {

	$_PLAY_SOUND	= "Theme/$_GLOBAL_MEMBER_THEME/Audio/Rank_2.$_GLOBAL_SYSTEM_SOUND_EXTENSION";

} // [ + ] If Member Rank Equal To 2 Play, Specific Audio File

if ($_GLOBAL_MEMBER_RANK = 3) {

	$_PLAY_SOUND	= "Theme/$_GLOBAL_MEMBER_THEME/Audio/Rank_3.$_GLOBAL_SYSTEM_SOUND_EXTENSION";

} // [ + ] If Member Rank Equal To 3, Play Specific Audio File

if ($_GLOBAL_MEMBER_RANK = 4) {

	$_PLAY_SOUND	= "Theme/$_GLOBAL_MEMBER_THEME/Audio/Rank_4.$_GLOBAL_SYSTEM_SOUND_EXTENSION";

} // [ + ] If Member Rank Equal To 4, Play Specific Audio File

if ($_GLOBAL_MEMBER_RANK = 5) {

	$_PLAY_SOUND	= "Theme/$_GLOBAL_MEMBER_THEME/Audio/Rank_5.$_GLOBAL_SYSTEM_SOUND_EXTENSION";

} // [ + ] If Member Rank Equal To 5, Play Specific Audio File

/*
 ================================================================
 +
 + Member Control Panel
 +
 ================================================================
*/

echo ("

											<CENTER>
												<A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Change_Password\" TITLE=\":: Change Password ::\"><IMG SRC=\"Theme/$_GLOBAL_MEMBER_THEME/Image/Icon_Member/Icon_Password.$_GLOBAL_SYSTEM_IMAGE_EXTENSION\" HEIGHT=\"60\" WIDTH=\"60\"></IMG></A>&nbsp;
												<A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Update_Profile\" TITLE=\":: Edit Profile Data ::\"><IMG SRC=\"Theme/$_GLOBAL_MEMBER_THEME/Image/Icon_Member/Icon_Profile.$_GLOBAL_SYSTEM_IMAGE_EXTENSION\" HEIGHT=\"60\" WIDTH=\"60\"></IMG></A>&nbsp;
												<A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Friend&amp;DisplayID&#61;All\" TITLE=\":: Open Friends List ::\"><IMG SRC=\"Theme/$_GLOBAL_MEMBER_THEME/Image/Icon_Member/Icon_Friends.$_GLOBAL_SYSTEM_IMAGE_EXTENSION\" HEIGHT=\"60\" WIDTH=\"60\"></IMG></A>&nbsp;
											</CENTER>

											<CENTER>
												<A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Private_Files\" TITLE=\":: Upload & Manage Private Files ::\"><IMG SRC=\"Theme/$_GLOBAL_MEMBER_THEME/Image/Icon_Member/Icon_Files.$_GLOBAL_SYSTEM_IMAGE_EXTENSION\" HEIGHT=\"60\" WIDTH=\"60\"></IMG></A>&nbsp;
												<A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Private_Message&amp;PrivateMessageID&#61;All\" TITLE=\":: Send & Receive Private Messages ::\"><IMG SRC=\"Theme/$_GLOBAL_MEMBER_THEME/Image/Icon_Member/Icon_Messages.$_GLOBAL_SYSTEM_IMAGE_EXTENSION\" HEIGHT=\"60\" WIDTH=\"60\"></IMG></A>&nbsp;
												<A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Webspace\" TITLE=\":: Manage Personal Hypertext Markup Language Web Page ::\"><IMG SRC=\"Theme/$_GLOBAL_MEMBER_THEME/Image/Icon_Member/Icon_Web_Page.$_GLOBAL_SYSTEM_IMAGE_EXTENSION\" HEIGHT=\"60\" WIDTH=\"60\"></IMG></A>&nbsp;
											</CENTER>

											<HR>
											<CENTER>[ <A HREF=\"?InternalApplication&#61;Logout\" TITLE=\":: Logout :: Secure-Delete Sessions, Credentials & Cookies ::\">Logout</A> ]</CENTER>
");

/*
 ================================================================
 +
 + List Member Entries
 +
 ================================================================
*/

$_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS					= $DB->query("SELECT * FROM {$_ACCESS_DATABASE_SERVER_DATABASE_TABLE_PREFIX}_members WHERE member_username='$_GLOBAL_COOKIE_MEMBER_USERNAME'");

$_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS_Fetch_Array = $DB->fetch_array($_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS);

$_Application_Module_Member_Control_Panel_LIST_MEMBER_ID						= $_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS_Fetch_Array['id'];
$_Application_Module_Member_Control_Panel_LIST_MEMBER_KEY						= $_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS_Fetch_Array['member_t_random'];
$_Application_Module_Member_Control_Panel_LIST_MEMBER_LOGGED						= $_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS_Fetch_Array['member_t_logged'];
$_Application_Module_Member_Control_Panel_LIST_MEMBER_SOUND						= $_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS_Fetch_Array['member_sound'];

/*
 ================================================================
 + Member Key Post Variables
 ================================================================
*/

$_Application_Module_Member_Control_Panel_POST_MEMBER_KEY						= $_POST['member_key'];
$_Application_Module_Member_Control_Panel_POST_MEMBER_KEY						= stripslashes($_Application_Module_Member_Control_Panel_POST_MEMBER_KEY);

/*
 ================================================================
 +
 + Sound On || Off
 +
 ================================================================
*/

if ($_Application_Module_Member_Control_Panel_LIST_MEMBER_SOUND >= "1") {

echo ("
											<EMBED SRC=\"$_PLAY_SOUND\" HIDDEN=\"true\" AUTOPLAY=\"true\" LOOP=\"false\"></EMBED>
");

} // [ + ] IF Member Control_Panel Sound Option Is On

/*
 ================================================================
 +
 + Activated || !Activated
 +
 ================================================================
*/

if (!$_Application_Module_Member_Control_Panel_POST_MEMBER_KEY) {

if($_Application_Module_Member_Control_Panel_LIST_MEMBER_LOGGED <= 0) {

echo ("
											<BR><BR>$_Application_Module_Message_Member_Control_Panel_KEY_ACTIVATE<HR>
												<FORM ACTION=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Control_Panel\" METHOD=\"POST\">
													Activation Key:<BR>
														<INPUT TYPE=\"TEXT\" NAME=\"member_key\" MAXLENGTH=\"32\"><BR>
													<INPUT TYPE=\"SUBMIT\" VALUE=\"Submit\">
												</FORM>
");

} // [ + ] IF_LOGGED

} else {
											echo ("$_Application_Module_Message_Member_Control_Panel_KEY_CHECK <BR>");
if ($_Application_Module_Member_Control_Panel_LIST_MEMBER_KEY != $_Application_Module_Member_Control_Panel_POST_MEMBER_KEY) {
											echo ($_Application_Module_Message_Member_Control_Panel_KEY_CHECK_ERROR);
} else {

$_Application_Module_Member_Control_Panel_DB_Query_UPDATE_MEMBERS					= $DB->query("UPDATE {$_ACCESS_DATABASE_SERVER_DATABASE_TABLE_PREFIX}_members SET member_t_logged='1' WHERE id='$_Application_Module_Member_Control_Panel_LIST_MEMBER_ID'");

if($_Application_Module_Member_Control_Panel_DB_Query_UPDATE_MEMBERS) {
											echo ($_Application_Module_Message_Member_Control_Panel_KEY_ACCEPT);
} else {
											echo ($_Application_Module_Message_Member_Control_Panel_KEY_ACCEPT_ERROR);
} // [ + ] IF_ACTIVATE

/*
 ================================================================
 + Kill SQL Database Server Query: Update Member Activation Key
 ================================================================
*/

$DB->free($_Application_Module_Member_Control_Panel_DB_Query_UPDATE_MEMBERS);

} // [ + ] IF_LIST_KEY

} // [ + ] IF_POST_KEY

/*
 ================================================================
 + Kill SQL Database Server Query: Select All Member Entries
 ================================================================
*/

$DB->free($_Application_Module_Member_Control_Panel_DB_Query_SELECT_MEMBERS);
?>